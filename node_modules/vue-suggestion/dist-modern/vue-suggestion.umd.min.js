(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue-suggestion"]=t():e["vue-suggestion"]=t()})("undefined"!==typeof self?self:this,(function(){return(()=>{var e={679:function(e,t){var n,s,i;(function(r,o){s=[],n=o,i="function"===typeof n?n.apply(t,s):n,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(m){var n,s,i,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,u=r.exec(m.stack)||o.exec(m.stack),a=u&&u[1]||!1,l=u&&u[2]||!1,p=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");a===p&&(n=document.documentElement.outerHTML,s=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(s,"$1").trim());for(var d=0;d<c.length;d++){if("interactive"===c[d].readyState)return c[d];if(c[d].src===a)return c[d];if(a===p&&c[d].innerHTML&&c[d].innerHTML.trim()===i)return c[d]}return null}}return e}))}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,n),r.exports}(()=>{n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p=""})();var s={};return(()=>{"use strict";if(n.r(s),n.d(s,{VueSuggestion:()=>y,default:()=>O,install:()=>f}),"undefined"!==typeof window){var e=window.document.currentScript,t=n(679);e=t(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:t});var i=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}const r=[{name:"itemTemplate",type:"Vue component",default:null,description:"Template for item in suggestion list",inDemo:!1},{name:"items",type:Array,default:[],description:"Suggestion array, should be updated dynamically after `onInputChange()`",inDemo:!1},{name:"setLabel",type:Function,default:e=>e,description:"Value of chosen input, be shown in the input`",inDemo:!1},{name:"loading",type:Boolean,default:!1,description:"!!",inDemo:!1},{name:"minLen",type:Number,default:2,description:"Minimum number of characters inputted to start searching",inDemo:!1},{name:"styleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the wrapper",inDemo:!1},{name:"inputOptions.maxlength",type:Number,default:100,description:"Native input `maxlength` attribute",inDemo:!1},{name:"inputOptions.type",type:String,default:"search",description:"Native input `type` attribute",inDemo:!1},{name:"inputOptions.placeholder",type:String,default:"",description:"Placeholder of the input",inDemo:!1},{name:"inputOptions.styleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"inputOptions.wrapperStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"suggestionOptions.listStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"suggestionOptions.groupStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"suggestionOptions.groupHeaderStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"suggestionOptions.groupHeaderStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"suggestionOptions.groupHeaderStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"suggestionOptions.itemWrapperStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"suggestionOptions.itemStyleClasses",type:[String,Array,Object],default:"",description:"Custom classes for the input",inDemo:!1},{name:"disabled",type:Boolean,default:!1,description:"Disable the input",inDemo:!1}],o=[...r].reduce(((e,t)=>{if(t.name.includes(".")){const[n,s]=t.name.split(".");e[n]?Object.assign(e[n],{[s]:t.default}):Object.assign(e,{[n]:{[s]:t.default}})}else Object.assign(e,{[t.name]:t.default});return e}),{}),u={options:{...o}};var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.styleClasses,"vue-suggestion"]},[n("div",{class:[{vs__selected:e.value},e.inputOptions.wrapperStyleClasses,"vs__input-group"]},["checkbox"===e.inputOptions.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],class:[e.inputOptions.styleClasses,"vs__input"],attrs:{placeholder:e.inputOptions.placeholder,disabled:e.disabled,maxlength:e.inputOptions.maxlength,type:"checkbox"},domProps:{checked:Array.isArray(e.searchText)?e._i(e.searchText,null)>-1:e.searchText},on:{blur:e.blur,focus:e.focus,input:e.inputChange,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.keyEnter.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.keyUp.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.keyDown.apply(null,arguments))}],change:function(t){var n=e.searchText,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&(e.searchText=n.concat([r])):o>-1&&(e.searchText=n.slice(0,o).concat(n.slice(o+1)))}else e.searchText=i}}}):"radio"===e.inputOptions.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],class:[e.inputOptions.styleClasses,"vs__input"],attrs:{placeholder:e.inputOptions.placeholder,disabled:e.disabled,maxlength:e.inputOptions.maxlength,type:"radio"},domProps:{checked:e._q(e.searchText,null)},on:{blur:e.blur,focus:e.focus,input:e.inputChange,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.keyEnter.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.keyUp.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.keyDown.apply(null,arguments))}],change:function(t){e.searchText=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],class:[e.inputOptions.styleClasses,"vs__input"],attrs:{placeholder:e.inputOptions.placeholder,disabled:e.disabled,maxlength:e.inputOptions.maxlength,type:e.inputOptions.type},domProps:{value:e.searchText},on:{blur:e.blur,focus:e.focus,input:[function(t){t.target.composing||(e.searchText=t.target.value)},e.inputChange],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.keyEnter.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.keyUp.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.keyDown.apply(null,arguments))}]}}),e._t("input-append")],2),e.loading?e._t("loading",(function(){return[n("div",{staticClass:"vs__loading"},[e._v("Loading...")])]})):e.showList?e._t("suggestionList",(function(){return[n("div",{class:[e.suggestionOptions.listStyleClasses,"vs__list"]},e._l(e.itemGroups,(function(t,s){return n("div",{key:s,class:e.suggestionOptions.groupStyleClasses},[e.itemGroups.length>1||t.header?n("div",{class:[e.suggestionOptions.groupHeaderStyleClasses,"vs__group-header"]},[e._v(" "+e._s(t.header)+" ")]):e._e(),e._l(t.items,(function(t){return n("div",{key:t.vsItemIndex,class:[{"vs__item-active":t.vsItemIndex===e.cursor},e.suggestionOptions.itemWrapperStyleClasses,"vs__list-item"],on:{click:function(n){return e.selectItem(t)},mouseover:function(n){e.cursor=t.vsItemIndex}}},[n(e.itemTemplate,{tag:"div",class:e.suggestionOptions.itemStyleClasses,attrs:{item:t}})],1)}))],2)})),0)]})):e._e()],2)},l=[];function p(e){const t=u.options[e];return"undefined"===typeof t?u.options[e]:t}const c={name:"VueSuggestion",props:{value:{type:[Object,String,Number],default:null},itemTemplate:{type:Object,default:()=>p("itemTemplate")},minLen:{type:Number,default:()=>p("minLen")},setLabel:{type:Function,default:()=>p("setLabel")},items:{type:Array,default:()=>p("items")},disabled:{type:Boolean,default:()=>p("disabled")},loading:{type:Boolean,default:()=>p("loading")},styleClasses:{type:[Object,String,Number],default:()=>p("styleClasses")},inputOptions:{type:Object,default:()=>p("inputOptions")},suggestionOptions:{type:Object,default:()=>p("suggestionOptions")}},data(){return{searchText:"",showList:!1,cursor:0}},computed:{itemGroups(){return this.items.reduce(((e,t,n)=>{const s=t.suggestionGroup||"",i={...t,vsItemIndex:n},r=e.find((e=>e.header===s));return r?r.items.push(i):e.push({header:s,items:[i]}),e}),[])}},watch:{value:{handler(e){e&&(this.searchText=this.setLabel(e))},deep:!0},"items.length":function(){this.showList=this.isAbleToShowList()}},created(){this.checkMissingProps()},mounted(){this.value&&(this.searchText=this.setLabel(this.value))},methods:{inputChange(){this.showList=this.isAbleToShowList(),this.cursor=0,this.$emit("changed",this.searchText)},isAbleToShowList(){return(this.searchText||"").length>=this.minLen&&this.items.length>0},checkMissingProps(){this.itemTemplate||console.warn("You need to pass `template` as the suggestion list item template")},focus(){this.$emit("focus",this.searchText),this.showList=this.isAbleToShowList()},blur(){this.$emit("blur",this.searchText),setTimeout((()=>{this.showList=!1}),200)},selectItem({vsItemIndex:e,...t}={}){t&&(this.searchText=this.setLabel(t),this.$emit("selected",t)),this.$emit("input",t)},keyUp(){this.$emit("key-up",this.searchText),this.cursor>0&&(this.cursor-=1)},keyDown(){this.$emit("key-down",this.searchText),this.cursor<this.items.length-1&&(this.cursor+=1)},keyEnter(){this.showList&&this.items[this.cursor]&&(this.selectItem(this.items[this.cursor]),this.showList=!1),this.$emit("enter",this.items[this.cursor])}}},d=c;function m(e,t,n,s,i,r,o,u){var a,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),s&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),o?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=a):i&&(a=u?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),a)if(l.functional){l._injectStyles=a;var p=l.render;l.render=function(e,t){return a.call(t),p(e,t)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,a):[a]}return{exports:e,options:l}}var h=m(d,a,l,!1,null,null,null);const y=h.exports;function f(e,t={}){if(f.installed)return;f.installed=!0;const{suggestionOptions:n,inputOptions:s,...i}=t,{suggestionOptions:r,inputOptions:a,...l}=o;u.options={inputOptions:{...a,...s},suggestionOptions:{...r,...n},...l,...i},e.component("vue-suggestion",y)}const g={install:f};let v=null;"undefined"!==typeof window?v=window.Vue:"undefined"!==typeof n.g&&(v=n.g.Vue),v&&v.use(g);const b=g,O=b})(),s})()}));
//# sourceMappingURL=vue-suggestion.umd.min.js.map